webpackJsonp([1],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _jquery = __webpack_require__(188);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _moment = __webpack_require__(190);
	
	var _moment2 = _interopRequireDefault(_moment);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function dashTime() {
		var now = (0, _moment2.default)();
	
		document.getElementById('dash-weekday').innerHTML = now.format('dddd');
		document.getElementById('dash-dayno').innerHTML = now.format('D');
		document.getElementById('dash-monthyear').innerHTML = now.format('MMMM YYYY');
		document.getElementById('dash-week').innerHTML = 'Week ' + now.format('W');
		document.getElementById('dash-time').innerHTML = now.format('HH:mm');
	}
	
	(0, _jquery2.default)(document).ready(function () {
		dashTime();
		setInterval(function () {
			dashTime();
		}, 60000);
	
		(0, _jquery2.default)('.dash-loader').addClass('active');
	
		var now = (0, _moment2.default)().format('E'),
		    today = (0, _moment2.default)(),
		    tomorrow = (0, _moment2.default)().add(1, 'days');
	
		if (now == 5) {
			tomorrow = (0, _moment2.default)().add(3, 'days');
		} else if (now == 6) {
			today = (0, _moment2.default)().add(2, 'days');
			tomorrow = (0, _moment2.default)().add(3, 'days');
		} else if (now == 7) {
			today = (0, _moment2.default)().add(1, 'days');
			tomorrow = (0, _moment2.default)().add(2, 'days');
		}
	
		(0, _jquery2.default)('#dash-today h3').text(now == today.format('E') ? 'Today' : today.format('dddd'));
		(0, _jquery2.default)('#dash-tomorrow h3').text(now + 1 == tomorrow.format('E') ? 'Tomorrow' : tomorrow.format('dddd'));
	
		_jquery2.default.ajax({
			method: 'GET',
			url: document.baseURI + '/events/?start=' + today.startOf('day').format('X') + '&end=' + tomorrow.endOf('day').format('X'),
			dataType: 'json'
		}).done(function (data) {
	
			if (Array.isArray(data)) {
	
				data.forEach(function (ev) {
					ev['visible'] = true;
	
					if (ev.allday) {
						ev.start = (0, _moment2.default)(ev.start, 'X');
						if (ev.end) ev.end = (0, _moment2.default)(ev.end, 'X');
					} else {
						ev.start = (0, _moment2.default)(ev.start, 'X').subtract(2, 'hours');
						if (ev.end) ev.end = (0, _moment2.default)(ev.end, 'X').subtract(2, 'hours');
					}
				});
	
				setTimeout(function () {
					(0, _jquery2.default)('.dash-loader').remove();
					(0, _jquery2.default)('.dash-events').addClass('active');
				}, 300);
			} else {
	
				setTimeout(function () {
					(0, _jquery2.default)('.dash-loader').remove();
					(0, _jquery2.default)('.dash-events').addClass('active');
				}, 300);
			}
		});
	});

/***/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3NyYy9kYXNoYm9hcmQuanMiXSwibmFtZXMiOlsiZGFzaFRpbWUiLCJub3ciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwiZm9ybWF0IiwicmVhZHkiLCJzZXRJbnRlcnZhbCIsImFkZENsYXNzIiwidG9kYXkiLCJ0b21vcnJvdyIsImFkZCIsInRleHQiLCJhamF4IiwibWV0aG9kIiwidXJsIiwiYmFzZVVSSSIsInN0YXJ0T2YiLCJlbmRPZiIsImRhdGFUeXBlIiwiZG9uZSIsIkFycmF5IiwiaXNBcnJheSIsImRhdGEiLCJmb3JFYWNoIiwiZXYiLCJhbGxkYXkiLCJzdGFydCIsImVuZCIsInN1YnRyYWN0Iiwic2V0VGltZW91dCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsVUFBU0EsUUFBVCxHQUFxQjtBQUNwQixNQUFJQyxNQUFNLHVCQUFWOztBQUVBQyxXQUFTQyxjQUFULENBQXdCLGNBQXhCLEVBQXdDQyxTQUF4QyxHQUFvREgsSUFBSUksTUFBSixDQUFXLE1BQVgsQ0FBcEQ7QUFDQUgsV0FBU0MsY0FBVCxDQUF3QixZQUF4QixFQUFzQ0MsU0FBdEMsR0FBa0RILElBQUlJLE1BQUosQ0FBVyxHQUFYLENBQWxEO0FBQ0FILFdBQVNDLGNBQVQsQ0FBd0IsZ0JBQXhCLEVBQTBDQyxTQUExQyxHQUFzREgsSUFBSUksTUFBSixDQUFXLFdBQVgsQ0FBdEQ7QUFDQUgsV0FBU0MsY0FBVCxDQUF3QixXQUF4QixFQUFxQ0MsU0FBckMsR0FBaUQsVUFBVUgsSUFBSUksTUFBSixDQUFXLEdBQVgsQ0FBM0Q7QUFDQUgsV0FBU0MsY0FBVCxDQUF3QixXQUF4QixFQUFxQ0MsU0FBckMsR0FBaURILElBQUlJLE1BQUosQ0FBVyxPQUFYLENBQWpEO0FBQ0E7O0FBRUQsdUJBQUVILFFBQUYsRUFBWUksS0FBWixDQUFrQixZQUFNO0FBQ3RCTjtBQUNBTyxjQUFZ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RCxHQWxDRDtBQW1DRCxFQXhERCxFIiwiZmlsZSI6ImRhc2hib2FyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuXHJcbmZ1bmN0aW9uIGRhc2hUaW1lICgpIHtcclxuXHRsZXQgbm93ID0gbW9tZW50KCk7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoLXdlZWtkYXknKS5pbm5lckhUTUwgPSBub3cuZm9ybWF0KCdkZGRkJyk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2gtZGF5bm8nKS5pbm5lckhUTUwgPSBub3cuZm9ybWF0KCdEJyk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2gtbW9udGh5ZWFyJykuaW5uZXJIVE1MID0gbm93LmZvcm1hdCgnTU1NTSBZWVlZJyk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2gtd2VlaycpLmlubmVySFRNTCA9ICdXZWVrICcgKyBub3cuZm9ybWF0KCdXJyk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2gtdGltZScpLmlubmVySFRNTCA9IG5vdy5mb3JtYXQoJ0hIOm1tJyk7XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuXHRcdGRhc2hUaW1lKCk7XHJcblx0XHRzZXRJbnRlcnZhbCgoKSA9PiB7IGRhc2hUaW1lKCkgfSwgNjAwMDApO1xyXG5cclxuXHRcdCQoJy5kYXNoLWxvYWRlcicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcblx0XHRsZXQgbm93ID0gbW9tZW50KCkuZm9ybWF0KCdFJyksIHRvZGF5ID0gbW9tZW50KCksIHRvbW9ycm93ID0gbW9tZW50KCkuYWRkKDEsICdkYXlzJyk7XHJcblxyXG5cdFx0aWYgKG5vdyA9PSA1KSB7XHJcblx0XHRcdHRvbW9ycm93ID0gbW9tZW50KCkuYWRkKDMsICdkYXlzJyk7XHJcblx0XHR9IGVsc2UgaWYgKG5vdyA9PSA2KSB7XHJcblx0XHRcdHRvZGF5ID0gbW9tZW50KCkuYWRkKDIsICdkYXlzJyk7XHJcblx0XHRcdHRvbW9ycm93ID0gbW9tZW50KCkuYWRkKDMsICdkYXlzJyk7XHJcblx0XHR9IGVsc2UgaWYgKG5vdyA9PSA3KSB7XHJcblx0XHRcdHRvZGF5ID0gbW9tZW50KCkuYWRkKDEsICdkYXlzJyk7XHJcblx0XHRcdHRvbW9ycm93ID0gbW9tZW50KCkuYWRkKDIsICdkYXlzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0JCgnI2Rhc2gtdG9kYXkgaDMnKS50ZXh0KG5vdyA9PSB0b2RheS5mb3JtYXQoJ0UnKSA/ICdUb2RheScgOiB0b2RheS5mb3JtYXQoJ2RkZGQnKSk7XHJcblx0XHQkKCcjZGFzaC10b21vcnJvdyBoMycpLnRleHQoKG5vdyArIDEpID09IHRvbW9ycm93LmZvcm1hdCgnRScpID8gJ1RvbW9ycm93JyA6IHRvbW9ycm93LmZvcm1hdCgnZGRkZCcpKTtcclxuXHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6IGRvY3VtZW50LmJhc2VVUkkgKyAnL2V2ZW50cy8/c3RhcnQ9JyArIHRvZGF5LnN0YXJ0T2YoJ2RheScpLmZvcm1hdCgnWCcpICsgJyZlbmQ9JyArIHRvbW9ycm93LmVuZE9mKCdkYXknKS5mb3JtYXQoJ1gnKSxcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0fSkuZG9uZShkYXRhID0+IHtcclxuXHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcblxyXG5cdFx0XHRcdGRhdGEuZm9yRWFjaChldiA9PiB7XHJcblx0XHRcdFx0XHRldlsndmlzaWJsZSddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgKGV2LmFsbGRheSkge1xyXG5cdFx0XHRcdFx0XHRldi5zdGFydCA9IG1vbWVudChldi5zdGFydCwgJ1gnKTtcclxuXHRcdFx0XHRcdFx0aWYgKGV2LmVuZCkgZXYuZW5kID0gbW9tZW50KGV2LmVuZCwgJ1gnKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGV2LnN0YXJ0ID0gbW9tZW50KGV2LnN0YXJ0LCAnWCcpLnN1YnRyYWN0KDIsICdob3VycycpO1xyXG5cdFx0XHRcdFx0XHRpZiAoZXYuZW5kKSBldi5lbmQgPSBtb21lbnQoZXYuZW5kLCAnWCcpLnN1YnRyYWN0KDIsICdob3VycycpO1x0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7IFxyXG5cdFx0XHRcdFx0JCgnLmRhc2gtbG9hZGVyJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHQkKCcuZGFzaC1ldmVudHMnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fSwgMzAwKTtcclxuXHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgXHJcblx0XHRcdFx0XHQkKCcuZGFzaC1sb2FkZXInKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdCQoJy5kYXNoLWV2ZW50cycpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9LCAzMDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NjcmlwdHMvc3JjL2Rhc2hib2FyZC5qcyJdLCJzb3VyY2VSb290IjoiIn0=